<header>
    <h1>Base64/Hex 转换</h1>
</header>
<main>
    <form id="converterForm">
        <label for="mode">模式:</label>
        <select id="mode" required>
            <option value="toBase64">字符串转Base64</option>
            <option value="fromBase64">Base64转字符串</option>
            <option value="toHex">字符串转Hex</option>
            <option value="fromHex">Hex转字符串</option>
        </select>
        <label for="data">输入数据:</label>
        <textarea id="data" required></textarea>
        <button type="submit">转换</button>
    </form>
    <div id="result"></div>
</main>
<script>
    document.getElementById('converterForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const mode = document.getElementById('mode').value;
        const data = document.getElementById('data').value;
        const resultDiv = document.getElementById('result');
        
        try {
            let result;
            switch (mode) {
                case 'toBase64':
                    result = btoa(data);
                    break;
                case 'fromBase64':
                    result = atob(data);
                    break;
                case 'toHex':
                    result = Array.from(data).map(c => c.charCodeAt(0).toString(16).padStart(2, '0')).join('');
                    break;
                case 'fromHex':
                    result = data.match(/.{1,2}/g).map(byte => String.fromCharCode(parseInt(byte, 16))).join('');
                    break;
                default:
                    throw new Error('未知的转换模式');
            }
            resultDiv.textContent = `转换后的数据: ${result}`;
            resultDiv.style.color = 'green';
        } catch (error) {
            resultDiv.textContent = `错误: ${error.message}`;
            resultDiv.style.color = 'red';
        }
    });
</script>